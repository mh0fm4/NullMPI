#! /bin/sh
prog="$0"
usage="echo $prog [ -hv ] [ -n <procs> | -np <procs> ] <program>"
version="echo @PACKAGE@-@VERSION@"

case $ZSH_VERSION in ?*) alias -g '${1+"$@"}="$@"';; esac

eat=no
for arg
do
	shift
	case $eat in
		yes)
		eat=no
		continue
		;;
		no)
		;;
	esac
	case $arg in
		-h|--help)
		$usage
		exit 0
		;;
		-v|--version)
		$version
		exit 0
		;;
		-n|-np)
		n="$1"
		shift
		if test 1 -ne "$n"
		then
			echo >&2 "$prog: more than one process is unsupported."
			exit 1
		fi
		eat=yes
		;;
		-*)
		echo >&2 "$prog: option $arg not supported"
		exit 1
		;;
		*)
		set -- ${1+"$@"} "$arg"
		break
		;;
	esac
done

exec ${1+"$@"}
exit 1
